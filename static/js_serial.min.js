const input_channel="ch_srv_clnt",output_channel="ch_clnt_srv";class JsSerial{constructor(){this.connected=!1,this.connect_cb=null,this.disconnect_cb=null,this.socket=io("ws://localhost:7345"),this.socket.on("connect",()=>{console.log("websocket connected"),this.connected=!0,this.connect_cb&&this.connect_cb()}),this.socket.on("disconnect",()=>{console.log("websocket disconnected"),this.connected=!1,this.disconnect_cb&&this.disconnect_cb()}),this.socket.on("event",function(c){console.log(c)})}open(){console.log("not implemented yet")}on(c,t){switch(c){case"data":this.socket.on(input_channel,t);break;case"connect":this.connect_cb=t;break;case"disconnect":this.disconnect_cb=t;break;default:console.error(`JsSerial: ${c} not supported`)}}write(c){"object"==typeof c?c=JSON.stringify(c):"string"!=typeof c&&(c=String(c)),this.socket.emit(output_channel,c)}isConnected(){return this.connected}}